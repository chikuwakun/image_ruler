# 画像測定ツール (Image Ruler)

Vue 3 + TypeScript + Canvas APIで構築された高機能な画像測定ツール

## 🎯 主な機能

### 📏 測定ツール
- **5つのツール**: 拡大縮小、ハンド、定規、比較、選択
- **リアルタイム描画**: ドラッグ中のプレビュー表示
- **高精度測定**: 実画像ピクセル座標での正確な計算

### 📐 定規機能
- **カスタマイズ可能な等分数**: 2-10等分まで選択可能
- **等分数別の色分け**: 視覚的に区別しやすい自動色選択
- **T字端点デザイン**: 実際の定規のような専門的な外観
- **階層的目盛り**: 中点、1/4点、その他で長さを変えた見やすい目盛り

### 🛠️ 編集機能
- **端点ドラッグ**: 定規のサイズ変更
- **回転ハンドル**: 専用ハンドルでの正確な回転操作
- **個別設定**: 各定規の等分数を独立して変更

### 📊 比較・計算機能
- **2つの定規比較**: クリック選択で簡単比較
- **詳細比率表示**: 
  - 小数点比率（例: 1.31）
  - 簡易比率（例: 4:3）
  - 実際の比率（例: 5.24:3）

### 🎨 UI/UX
- **ダークテーマ**: 洗練された黒基調デザイン
- **直感的操作**: 適切なカーソル表示とビジュアルフィードバック
- **レスポンシブ**: 画像の自動フィット機能

## 🚀 技術スタック

- **Vue 3** - Composition API + TypeScript
- **Vite** - 高速ビルドツール
- **Canvas API** - 高性能な画像描画とマウス操作
- **Tailwind CSS** - ユーティリティファーストCSS
- **Pinia** - 状態管理
- **Lucide Icons** - アイコンライブラリ

## 📦 セットアップ

### 前提条件
- Node.js 16.0.0以上
- npm または yarn

### インストール

```bash
# リポジトリをクローン
git clone https://github.com/[your-username]/image-ruler.git
cd image-ruler

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev
```

### ビルド

```bash
# 本番用ビルド
npm run build

# ビルド結果をプレビュー
npm run preview
```

## 📖 使い方

1. **画像を開く**: 「画像を開く」ボタンから画像ファイルを選択
2. **ツール選択**: ツールバーから使用するツールを選択
   - 🔍 **拡大縮小**: クリックで拡大/縮小
   - ✋ **ハンド**: 画像をドラッグして移動
   - 📏 **定規**: ドラッグして定規を作成
   - ⚖️ **比較**: 2つの定規をクリックして比較
   - 👆 **選択**: 定規を選択して編集
3. **測定**: 定規ツールで測定したい箇所をドラッグ
4. **編集**: 選択ツールで定規を選択し、端点や回転ハンドルで調整
5. **比較**: 比較ツールで2つの定規の比率を計算

## 🎨 定規のカスタマイズ

### 等分数の変更
- 定規一覧の各アイテムにある`-`/`+`ボタンで等分数を変更
- 2等分から10等分まで対応
- 等分数に応じて自動的に色が変更

### 色分けシステム
- 2等分: 青色 (#0066ff)
- 3等分: 緑色 (#00cc66)  
- 4等分: オレンジ色 (#ff6600)
- 5等分: マゼンタ (#cc00cc)
- ...等

## 🛠️ 開発

### プロジェクト構造
```
src/
├── components/         # Vueコンポーネント
│   ├── ToolBar.vue    # ツールバー
│   ├── ImageCanvas.vue # メイン画像キャンバス
│   └── PropertyPanel.vue # プロパティパネル
├── composables/       # Vue Composition関数
│   └── useCanvas.ts   # Canvas操作
├── stores/           # Pinia状態管理
│   └── appStore.ts   # アプリケーション状態
├── types/           # TypeScript型定義
│   ├── Tool.ts      # ツール型
│   └── Ruler.ts     # 定規型
└── utils/          # ユーティリティ関数
    └── rulerUtils.ts # 定規関連ユーティリティ
```

### 主要なファイル
- `claude.md` - プロジェクト仕様書
- `.cursor/rules/` - 開発ガイドライン

## 🎯 今後の拡張予定

- [ ] 測定データの保存・読み込み
- [ ] 画像回転機能
- [ ] 測定結果のエクスポート
- [ ] Undo/Redo機能
- [ ] 多色定規グルーピング

## 📄 ライセンス

[MIT License](LICENSE)

## 🤝 コントリビューション

プルリクエストやイシューの報告を歓迎します。

---

📐 **正確な測定のための専門ツール** - Vue 3とCanvas APIの力で実現